<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style rel="stylesheet" type="text/css">
        div{
            width: 100px;
            height: 100px;
            background-color: yellow;
        }
    </style>
    <script type="text/javascript" src="js/jquery-1.12.4.js"></script>
    <script type="text/javascript">
        $(function(){
            var callback=()=>{
            $('div').delay(1000)// 1초 뒤에 시작
                // .animate({
                // marginLeft:'400px', // margin이용해서 옆으로 이동/ 카멜케이스 사용(:단어의 첫 글자를 대문자로 표기, 단 첫번째 단어의 첫글자는 소문자로 표기하는 표기법.) 
                //                   // 단위 반드시 명세
                
                // backgroundColor: 'red' // backgroundColor 적용 안됨
                // })
                .animate({marginLeft:'400px'},1000) // 정사각형 그리는 형태로 애니메이션 진행
                .animate({marginTop:'400px'},1000)
                .animate({marginLeft:'0px'},1000)
                .animate({marginTop:'0px'},1000)
                console.log('js 메인종료'); // chaining된 animate들을 읽으면서 queue에 담고, 
                                            // 담아지는 순간 console.log문장으로 넘어가고 동시에 queue에 담겨져 있던 animate들이 순차적으로 실행된다.
            }
        $('button')
            .first(0)
                .click(callback)
            .next()
                .click(
                    ()=>{
                        // while($('div').queue().length)
                            // $('div').stop();
                            // $('div').clearQueue().stop(); // 애니메이션이 진행하다가 결론으로 감.
                            $('div').finish(); // 애니메이션 없이 바로 결론으로 감. 계획된 애니메이션이 종료된 상태가 된다.
                    })
        });
    </script>
</head>
<body>
    <h1>애니메이션3</h1>
    <button>start</button>
    <button>stop</button>
    <div></div>
</body>
</html>